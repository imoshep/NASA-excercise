<div class="search-box">
  <h1>NASA's Astronomy Picture of the Day</h1>
  <h2>Find Pictures:</h2>
  <form [formGroup]="apodFromTo" (ngSubmit)="onSubmit()" >
    <mat-form-field appearance="fill" class="input">
      <mat-label>From</mat-label>
      <input matInput [matDatepicker]="fromDatePicker" formControlName="from" [max]="maxDate">
      <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #fromDatePicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill" class="input">
      <mat-label>To</mat-label>
      <input matInput [matDatepicker]="toDatePicker" formControlName="to" [max]="maxDate">
      <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #toDatePicker></mat-datepicker>
    </mat-form-field>
    <div *ngIf="apodFromTo.errors?.notGreaterThan && (apodFromTo.get('to').touched || apodFromTo.get('to').dirty)">
      <mat-error><strong>To</strong> date must be later than <strong>From</strong> date</mat-error>
    </div>
    <div *ngIf="from.errors?.dateNotInThePast || to.errors?.dateNotInThePast && (apodFromTo.touched || apodFromTo.dirty)">
      <mat-error class="date-error">Dates should Be Earlier than the present day</mat-error>
    </div>
    <br />
    <button mat-raised-button type="submit" [disabled]="(apodFromTo.errors || from.errors || to.errors)">See Pictures</button>
  </form>
</div>
